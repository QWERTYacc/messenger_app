{"version":3,"sources":["ContainerApp/WorkPlace/Units/ProfileCard.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/DialogsItem.module.css","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactItem.module.css","serviceWorker.js","redux/authReducer.js","redux/navigationReducer.js","redux/dialogsListReducer.js","redux/searchNewUserReducer.js","redux/dialogBodyReducer.js","redux/textAreaReducer.js","redux/contactsReducer.js","redux/profileReducer.js","redux/reduxStore.js","vars_css/vars_css.js","ContainerApp/AuthPage/AuthPage.js","ContainerApp/AuthPage/AuthPageContainer.js","ContainerApp/WorkPlace/Navbar/Navbar.js","ContainerApp/WorkPlace/Navbar/NavbarContainer.js","ContainerApp/WorkPlace/Units/ProfileCard.js","ContainerApp/WorkPlace/Units/ChangeProfileCard.js","ContainerApp/WorkPlace/AppPages/ProfilePage/ProfilePage.js","ContainerApp/WorkPlace/AppPages/ProfilePage/ProfilePageContainer.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/DialogsItem.js","img/icons/IconAdd.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/DialogsList.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/DialogsListContainer.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/SearchNewUser.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/SearchNewUserContainer.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/ContainerForSearchNewUser.js","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/MessageItem.js","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/DialogBody.js","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/DialogBodyContainer.js","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/TextArea.js","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/TextAreaContainer.js","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/Dialog.js","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsPage.js","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactItem.js","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactsList.js","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactsListContainer.js","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactsPage.js","ContainerApp/WorkPlace/AppPages/AppPages.js","ContainerApp/WorkPlace/AppPages/AppPagesContainer.js","ContainerApp/WorkPlace/WorkPlace.js","ContainerApp/WorkPlace/WorkPlaceContainer.js","App.js","routes.js","AppContainer.js","index.js","ContainerApp/AuthPage/AuthPage.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/MessageItem.module.css","ContainerApp/WorkPlace/AppPages/ProfilePage/ProfilePage.module.css","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactsList.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/DialogsList.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsList/SearchNewUser.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/DialogBody.module.css","ContainerApp/WorkPlace/WorkPlace.module.css","ContainerApp/WorkPlace/Navbar/Navbar.module.css","ContainerApp/WorkPlace/AppPages/AppPages.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/DialogsPage.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/Dialog.module.css","ContainerApp/WorkPlace/AppPages/DialogsPage/Dialog/TextArea.module.css","ContainerApp/WorkPlace/AppPages/ContactsPage/ContactsPage.module.css"],"names":["module","exports","Boolean","window","location","hostname","match","REGISTRATION","LOGIN","LOGOUT","initialeState","email","password","loginActionCreator","token","id","type","authReducer","state","action","userId","GET_NEW_MESSAGES","newMessages","navigationReducer","data","dialogId","UPLOAD_DIALOGS","CHECK_NEW_MESSAGES","RELOAD_DIALOGS","dialogsReducer","dialogs","isLoad","forEach","dialog","newMsgs","messages","length","lastMsg","upDialog","UPDATE_EMAIL","GET_NEW_USER","REDIRECT_NEW_USER","newContact","getNewUserActionCreator","changed","redirectNewUserActionCreator","redirect","searchNewUserReducer","update","ID_DIALOG","UPLOAD_DIALOG","currentDialog","dialogIdActionCreator","uploadDialogActionCreator","dialogBodyReducer","CHANGE_NEW_MESSAGE","newMessage","changeNewMessageActionCreator","textAreaReducer","UPLOAD_CONTACTS","RELOAD_CONTACTS","CONTACT_CARD","contactCardActionCreator","contactCard","contactsReducer","contacts","userBirthday","undefined","dataArr","split","slice","join","GET_USER_DATA","CHANGE_USER_DATA","UPDATE_USER_DATA","RELOAD_USER_DATA","changePage","getUserDataActionCreator","userData","changeUserDataActionCreator","change","updateDataActionCreator","itemName","itemValue","disabled","profileReducer","userPhoto","firstName","lastName","userSex","LOG_OUT","reducers","combineReducers","authPage","navBar","profilePage","dialogsList","dialogsListReducer","searchNewUser","dialogPage","textArea","contactsPage","store","createStore","localStorage","clear","varsCss","mainTextColor","mainColor","navTextColor","accentTextColor","accentColor","accentColorFill","AuthPage","props","btnArr","document","querySelectorAll","inputArr","changeState","e","querySelector","value","pass","target","name","registrationActionCreator","dispatch","postAuthData","btn","input","axios","method","url","authState","then","response","M","toast","html","message","setTimeout","reload","catch","error","JSON","parse","request","setItem","stringify","getAuthData","console","log","completeCallback","className","classes","body","container","cssVars","onChange","htmlFor","bntsSet","onClick","AuthPageContainer","connect","Navbar","dialogsCount","isShow","to","style","color","paddingLeft","NavbarContainer","ProfileCard","changeBtn","logoutBtn","redirectToDialog","contactAction","dialogAction","profile","backgroundImage","discriptionText","arr","btns","map","btnFunc","btnStyle","btnName","Math","random","ChangeProfileCard","changeInputs","selectedOptions","label","multiple","defaultValue","readOnly","d","m","dataset","month","Number","day","newDate","year","options","format","yearRange","changedData","socket","emit","ProfilePage","getItem","on","a","closeBtn","floating","icon","small","waves","ProfilePageContainer","DialogsItem","userInfo","photo","user_name","newMsgsContainer","IconAdd","xmlns","xmlnsXlink","version","x","y","viewBox","enableBackground","xmlSpace","width","fill","createDialogs","lastMsgs","push","sort","b","i","find","index","splice","unshift","this","exact","DialogsList","uploadDialogsActionCreator","preloaderContainer","content","DialogsListContainer","updateEmailActionCreator","SearchNewUser","searchResult","isContact","showItem","visibleClass","disabledInput","actions","marginTop","maxWidth","marginLeft","newContactId","header","image","marginBottom","contactEmail","React","Component","SearchNewUserContainer","ContainerForSearchNewUser","MessageItem","userName","senderClass","user","fromUser","fromInterlocutor","description","fromSystem","sender","messageBody","createMessageList","user1","user2","creation","DialogBody","getDialog","newDeliveredMessagesIdArr","delivered","_id","onScroll","scrollMessages","scrollTop","scrollHeight","DialogBodyContainer","TextArea","interlocutor","sendBtn","node","Date","now","TextAreaContainer","Dialog","DialogsPage","path","render","ContactItem","userFirstName","userLastName","createContacstList","contactsArr","emailsArr","namesArr","contact","emailsContactArr","item","namesContactArr","concat","ContactsList","ContactsListContainer","ContactsPage","getContactsActionCreator","AppPages","isDialogsLoad","AppPagesContainer","io","WorkPlace","newMsgsData","action1","newMessagesActionCreator","action2","actionContacts","initiator","actionSearchNewUser","WorkPlaceContainer","App","isAuthenticated","routes","useRoutes","AppContainer","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4a312d8f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"ProfileCard_body__2QXNj\",\"userPhoto\":\"ProfileCard_userPhoto__Hka_2\",\"discriptionText\":\"ProfileCard_discriptionText__Fwqjt\",\"input\":\"ProfileCard_input__3JDuf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"DialogsItem_body__SEl4a\",\"userInfo\":\"DialogsItem_userInfo__2XhTS\",\"userPhoto\":\"DialogsItem_userPhoto__1wZOk\",\"user_name\":\"DialogsItem_user_name__3EyqU\",\"newMsgsContainer\":\"DialogsItem_newMsgsContainer__1yppQ\",\"newMsgs\":\"DialogsItem_newMsgs__36HlF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"ContactItem_body__3C_nb\",\"userInfo\":\"ContactItem_userInfo__3GnzR\",\"userPhoto\":\"ContactItem_userPhoto__1ZrAL\",\"user_name\":\"ContactItem_user_name__WFAgm\",\"newMsgsContainer\":\"ContactItem_newMsgsContainer__1LLPS\",\"newMsgs\":\"ContactItem_newMsgs__2J5T6\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","const REGISTRATION = 'REGISTRATION';\r\nconst LOGIN = 'LOGIN';\r\nconst LOGOUT = 'LOGOUT';\r\n\r\nlet initialeState = {\r\n    email: \"\",\r\n    password: \"\"\r\n};\r\n\r\nconst authReducer = (state = initialeState, action) => {\r\n\r\n    switch (action.type) {\r\n        case REGISTRATION:\r\n            return {\r\n                ...state,\r\n                email: action.email,\r\n                password: action.password,\r\n            };\r\n\r\n        case LOGIN:\r\n            return {\r\n                ...state,\r\n                token: action.token,\r\n                userId: action.id,\r\n            };\r\n\r\n        case LOGOUT:\r\n            return {\r\n                ...state,\r\n                token: null,\r\n                userId: null,\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const registrationActionCreator = (email, password) => ({\r\n    type: REGISTRATION,\r\n    email: email,\r\n    password: password,\r\n});\r\nexport const loginActionCreator = (token, id) => ({\r\n    type: LOGIN,\r\n    token: token,\r\n    id: id,\r\n});\r\nexport const logoutActionCreator = () => ({\r\n    type: LOGOUT,\r\n});\r\n\r\nexport default authReducer;","const GET_NEW_MESSAGES = 'GET_NEW_MESSAGES';\r\n\r\nlet initialeState = {\r\n    newMessages: {}\r\n};\r\n\r\nconst navigationReducer = (state = initialeState, action) => {\r\n    switch (action.type) {\r\n        case GET_NEW_MESSAGES:\r\n            return {\r\n                ...state,\r\n                newMessages: {\r\n                    ...state.newMessages,\r\n                    [action.data.dialogId]: action.data,\r\n                },\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const newMessagesActionCreator = (data) => ({\r\n    type: GET_NEW_MESSAGES,\r\n    data\r\n});\r\n\r\nexport default navigationReducer;","const UPLOAD_DIALOGS = 'UPLOAD_DIALOGS';\r\nconst CHECK_NEW_MESSAGES = 'CHECK_NEW_MESSAGES';\r\nconst RELOAD_DIALOGS = 'RELOAD_DIALOGS';\r\n\r\nlet initialeState = {\r\n};\r\n\r\nconst dialogsReducer = (state = initialeState, action) => {\r\n\r\n    switch (action.type) {\r\n        case UPLOAD_DIALOGS:\r\n            return {\r\n                ...state,\r\n                dialogs: action.data,\r\n                isLoad: action.isLoad\r\n            };\r\n\r\n        case CHECK_NEW_MESSAGES:\r\n\r\n            if (state.dialogs) {\r\n                state.dialogs.forEach(dialog => {\r\n                    if (action.dialogId === dialog.dialogId) {\r\n                        dialog.newMsgs = action.messages.length;\r\n                        dialog.lastMsg = action.lastMsg;\r\n                    };\r\n                });\r\n            };\r\n\r\n            if (action.messages.length > 0) {\r\n                return {\r\n                    ...state,\r\n                    upDialog: action.dialogId\r\n                };\r\n            } else {\r\n                return {\r\n                    ...state,\r\n                    upDialog: ''\r\n                };\r\n            };\r\n\r\n        case RELOAD_DIALOGS:\r\n            return {\r\n                ...state,\r\n                isLoad: false\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const uploadDialogsActionCreator = (isLoad, data) => ({\r\n    type: UPLOAD_DIALOGS,\r\n    isLoad,\r\n    data\r\n});\r\n\r\nexport const checkNewMessagesOnDialogListActionCreator = (dialogId, messages, lastMsg) => ({\r\n    type: CHECK_NEW_MESSAGES,\r\n    dialogId,\r\n    messages,\r\n    lastMsg,\r\n});\r\n\r\nexport const reloadDialogsActionCreator = () => ({\r\n    type: RELOAD_DIALOGS,\r\n});\r\n\r\nexport default dialogsReducer;","const UPDATE_EMAIL = 'UPDATE_EMAIL';\r\nconst GET_NEW_USER = 'GET_NEW_USER';\r\nconst REDIRECT_NEW_USER = 'REDIRECT_NEW_USER';\r\n\r\nlet initialeState = {\r\n    newContact: {\r\n        email: '',\r\n    },\r\n};\r\n\r\nconst searchNewUserReducer = (state = initialeState, action) => {\r\n\r\n    switch (action.type) {\r\n        case UPDATE_EMAIL:\r\n            return {\r\n                newContact: {\r\n                    email: action.update\r\n                },\r\n                changed: action.changed,\r\n                isLoad: action.isLoad\r\n            };\r\n\r\n        case GET_NEW_USER:\r\n            if (action.data === null) action.data = { email: '' }\r\n            return {\r\n                newContact: action.data,\r\n                changed: action.changed,\r\n                isLoad: action.isLoad,\r\n            };\r\n\r\n        case REDIRECT_NEW_USER:\r\n\r\n            if (action.redirect === false) {\r\n                return {\r\n                    newContact: {\r\n                        email: '',\r\n                    },\r\n                };\r\n            };\r\n            return {\r\n                newContact: {\r\n                    email: '',\r\n                },\r\n                redirect: action.redirect,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const updateEmailActionCreator = (update, changed, isLoad) => ({\r\n    type: UPDATE_EMAIL,\r\n    update,\r\n    changed,\r\n    isLoad\r\n});\r\nexport const getNewUserActionCreator = (data, changed, isLoad) => ({\r\n    type: GET_NEW_USER,\r\n    data,\r\n    changed,\r\n    isLoad\r\n});\r\nexport const redirectNewUserActionCreator = (redirect) => ({\r\n    type: REDIRECT_NEW_USER,\r\n    redirect,\r\n});\r\n\r\nexport default searchNewUserReducer;","const ID_DIALOG = 'ID_DIALOG';\r\nconst UPLOAD_DIALOG = 'UPLOAD_DIALOG';\r\n\r\nexport const dialogs = {\r\n    currentDialog: null,\r\n};\r\n\r\nlet initialeState = {\r\n    dialogId: '',\r\n    dialog: {\r\n        messages: [],\r\n    }\r\n};\r\n\r\nconst dialogBodyReducer = (state = initialeState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case ID_DIALOG:\r\n\r\n            dialogs.currentDialog = action.dialogId;\r\n\r\n            if (!dialogs[action.dialogId]) {\r\n                return {\r\n                    ...state,\r\n                    dialogId: action.dialogId,\r\n                    isLoad: false,\r\n                };\r\n            };\r\n            return {\r\n                ...state,\r\n                dialogId: action.dialogId,\r\n                dialog: dialogs[action.dialogId],\r\n                isLoad: true,\r\n            };\r\n\r\n\r\n        case UPLOAD_DIALOG:\r\n\r\n            dialogs[action.dialog.dialogId] = action.dialog;\r\n\r\n            return {\r\n                ...state,\r\n                dialog: dialogs[dialogs.currentDialog],\r\n                isLoad: true,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const dialogIdActionCreator = (dialogId) => ({\r\n    type: ID_DIALOG,\r\n    dialogId\r\n});\r\nexport const uploadDialogActionCreator = (data) => ({\r\n    type: UPLOAD_DIALOG,\r\n    dialog: data,\r\n});\r\n\r\nexport default dialogBodyReducer;","const CHANGE_NEW_MESSAGE = 'CHANGE_NEW_MESSAGE';\r\n\r\nlet initialeState = {\r\n    newMessage: '',\r\n\r\n};\r\n\r\nconst textAreaReducer = (state = initialeState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case CHANGE_NEW_MESSAGE:\r\n            return {\r\n                newMessage: action.newMessage\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const changeNewMessageActionCreator = (newMessage) => ({\r\n    type: CHANGE_NEW_MESSAGE,\r\n    newMessage\r\n});\r\n\r\nexport default textAreaReducer;","const UPLOAD_CONTACTS = 'UPLOAD_CONTACTS';\r\nconst RELOAD_CONTACTS = 'RELOAD_CONTACTS';\r\nconst CONTACT_CARD = 'CONTACT_CARD';\r\n\r\nlet initialeState = {\r\n    isLoad: false\r\n};\r\n\r\nconst contactsReducer = (state = initialeState, action) => {\r\n\r\n    switch (action.type) {\r\n        case UPLOAD_CONTACTS:\r\n            return {\r\n                contacts: action.data,\r\n                isLoad: true,\r\n            };\r\n\r\n        case RELOAD_CONTACTS:\r\n            return {\r\n                ...state,\r\n                isLoad: false,\r\n            };\r\n        case CONTACT_CARD:\r\n            if (action.contactCard.userBirthday !== null && action.contactCard.userBirthday !== undefined) {\r\n                let dataArr = action.contactCard.userBirthday.split('');\r\n                action.contactCard.userBirthday = dataArr.slice(0, 10).join('');\r\n            };\r\n            return {\r\n                ...state,\r\n                contactCard: action.contactCard,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const getContactsActionCreator = (data) => ({\r\n    type: UPLOAD_CONTACTS,\r\n    data,\r\n});\r\n\r\nexport const reloadContactsActionCreator = () => ({\r\n    type: RELOAD_CONTACTS,\r\n});\r\n\r\nexport const contactCardActionCreator = (contactCard) => ({\r\n    type: CONTACT_CARD,\r\n    contactCard,\r\n});\r\n\r\nexport default contactsReducer;","const GET_USER_DATA = 'GET_USER_DATA';\r\nconst CHANGE_USER_DATA = 'CHANGE_USER_DATA';\r\nconst UPDATE_USER_DATA = 'UPDATE_USER_DATA';\r\nconst RELOAD_USER_DATA = 'RELOAD_USER_DATA';\r\n\r\n\r\nlet initialeState = {\r\n    id: null,\r\n    changed: false,\r\n    changePage: false,\r\n};\r\n\r\nconst profileReducer = (state = initialeState, action) => {\r\n    switch (action.type) {\r\n        case GET_USER_DATA:\r\n            let userBirthday = null;\r\n            if (action.userData.userBirthday !== null && action.userData.userBirthday !== undefined) {\r\n                let dataArr = action.userData.userBirthday.split('');\r\n                userBirthday = dataArr.slice(0, 10).join('');\r\n            };\r\n            return {\r\n                id: action.userData.id,\r\n                userPhoto: action.userData.userPhoto,\r\n                firstName: action.userData.firstName,\r\n                lastName: action.userData.lastName,\r\n                email: action.userData.email,\r\n                userSex: action.userData.userSex,\r\n                userBirthday: userBirthday,\r\n                changed: false,\r\n                changePage: false,\r\n            };\r\n\r\n        case CHANGE_USER_DATA:\r\n            return {\r\n                ...state,\r\n                changePage: action.change\r\n            };\r\n\r\n        case UPDATE_USER_DATA:\r\n            return {\r\n                ...state,\r\n                [action.itemName]: action.itemValue,\r\n                changed: true\r\n            };\r\n\r\n        case RELOAD_USER_DATA:\r\n            return {\r\n                ...state,\r\n                id: action.id,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n};\r\n\r\nexport const getUserDataActionCreator = (userData) => ({\r\n    type: GET_USER_DATA,\r\n    userData\r\n});\r\nexport const changeUserDataActionCreator = (change) => ({\r\n    type: CHANGE_USER_DATA,\r\n    change\r\n});\r\nexport const updateDataActionCreator = (itemName, itemValue, disabled) => ({\r\n    type: UPDATE_USER_DATA,\r\n    itemName,\r\n    itemValue,\r\n    disabled\r\n});\r\nexport const reloadActionCreator = (id) => ({\r\n    type: RELOAD_USER_DATA,\r\n    id\r\n});\r\n\r\nexport default profileReducer;","import { createStore, combineReducers } from \"redux\";\r\nimport authReducer from './authReducer.js';\r\nimport navigationReducer from './navigationReducer.js';\r\nimport dialogsListReducer from './dialogsListReducer.js';\r\nimport searchNewUserReducer from './searchNewUserReducer.js';\r\nimport dialogBodyReducer from './dialogBodyReducer.js';\r\nimport textAreaReducer from './textAreaReducer.js';\r\nimport contactsReducer from './contactsReducer.js';\r\nimport profileReducer from './profileReducer.js';\r\n\r\nconst LOG_OUT = \"LOG_OUT\";\r\n\r\nlet reducers = combineReducers({\r\n    authPage: authReducer,\r\n    navBar: navigationReducer,\r\n    profilePage: profileReducer,\r\n    dialogsList: dialogsListReducer,\r\n    searchNewUser: searchNewUserReducer,\r\n    dialogPage: dialogBodyReducer,\r\n    textArea: textAreaReducer,\r\n    contactsPage: contactsReducer,\r\n});\r\n\r\nlet appStore = (state, action) => {\r\n    if (action.type === LOG_OUT) {\r\n        state = undefined;\r\n        localStorage.clear();\r\n    };\r\n    return reducers(state, action);\r\n};\r\n\r\nexport const logoutActionCreator = () => ({\r\n    type: LOG_OUT,\r\n});\r\n\r\nlet store = createStore(appStore);\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","let varsCss = {\r\n    mainTextColor: \"blue-text\",\r\n    mainColor: \"blue\",\r\n    navTextColor: \"blue-text text-darken-4\",\r\n    accentTextColor: \"orange-text text-darken-2\",\r\n    accentColor: \"orange darken-2\",\r\n    accentColorFill: \"#f57c00\",\r\n};\r\n\r\n\r\nexport default varsCss;","import React from 'react';\r\nimport classes from './AuthPage.module.css';\r\nimport cssVars from '../../vars_css/vars_css';\r\nimport M from \"materialize-css\";\r\nimport * as axios from 'axios';\r\nimport { registrationActionCreator, loginActionCreator } from '../../redux/authReducer';\r\n\r\n\r\nfunction AuthPage(props) {\r\n\r\n  let btnArr = document.querySelectorAll('button');\r\n  let inputArr = document.querySelectorAll('input');\r\n\r\n  let changeState = (e) => {\r\n    let email = document.querySelector('#email_inline').value;\r\n    let pass = document.querySelector('#password').value;\r\n    if (e.target.name === 'email') {\r\n      email = e.target.value;\r\n    };\r\n    if (e.target.name === 'password') {\r\n      pass = e.target.value;\r\n    };\r\n\r\n    let action = registrationActionCreator(email, pass);\r\n    props.dispatch(action);\r\n  };\r\n\r\n  let getAuthData = (token, id) => {\r\n    localStorage.setItem('userData', JSON.stringify({ token, id }));\r\n    let action = loginActionCreator(token, id);\r\n    props.dispatch(action);\r\n  };\r\n\r\n  let postAuthData = (e) => {\r\n\r\n    btnArr.forEach(btn => btn.disabled = true);\r\n    inputArr.forEach(input => input.disabled = true);\r\n\r\n    if (e.target.name === \"register\") {\r\n      axios({\r\n        method: 'post',\r\n        url: 'https://simple--messenger.herokuapp.com/api/auth/register',\r\n        data: props.authState\r\n      })\r\n        .then(response => {\r\n          M.toast({ html: `${response.data.message}` });\r\n          setTimeout(() => {\r\n            window.location.reload();\r\n          }, 1500)\r\n        })\r\n        .catch(function (error) {\r\n          error = JSON.parse(error.request.response);\r\n          M.toast({ html: `${error.message}` });\r\n          setTimeout(() => {\r\n            window.location.reload();\r\n          }, 1500)\r\n\r\n        });\r\n    };\r\n    if (e.target.name === \"login\") {\r\n      axios({\r\n        method: 'post',\r\n        url: 'https://simple--messenger.herokuapp.com/api/auth/login',\r\n        data: props.authState\r\n      })\r\n        .then(response => {\r\n          getAuthData(response.data.token, response.data.userId);\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error.request);\r\n          error = JSON.parse(error.request.response);\r\n          M.toast({ html: `${error.message}`, completeCallback: function () { window.location.reload() } });\r\n        });\r\n    };\r\n  };\r\n\r\n  if (props.authState.email !== \"\" || props.authState.password !== \"\") {\r\n    return (\r\n      <div className={classes.body}>\r\n        <div className={classes.container}>\r\n          <h3 className={cssVars.mainTextColor}>Log In</h3>\r\n          <div className=\"input-field\">\r\n            <input type=\"email\" name=\"email\" id=\"email_inline\" onChange={changeState} className=\"validate\" />\r\n            <label htmlFor=\"email_inline\">Email</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <input id=\"password\" type=\"password\" className=\"validate\" name=\"password\" onChange={changeState} />\r\n            <label htmlFor=\"password\">Password</label>\r\n          </div>\r\n\r\n          <div className={classes.bntsSet}>\r\n            <button className={`${cssVars.mainColor} waves-effect waves-light btn`} name=\"login\" onClick={postAuthData}>Login</button>\r\n            <button className={`${cssVars.accentColor} waves-effect waves-light btn`} name=\"register\" onClick={postAuthData}>Registration</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return (\r\n      <div className={classes.body}>\r\n        <div className={classes.container}>\r\n          <h3 className={cssVars.mainTextColor}>Log In</h3>\r\n          <div className=\"input-field\">\r\n            <input type=\"email\" name=\"email\" id=\"email_inline\" onChange={changeState} className=\"validate\" />\r\n            <label htmlFor=\"email_inline\">Email</label>\r\n          </div>\r\n          <div className=\"input-field\">\r\n            <input id=\"password\" type=\"password\" className=\"validate\" name=\"password\" onChange={changeState} />\r\n            <label htmlFor=\"password\">Password</label>\r\n          </div>\r\n\r\n          <div className={classes.bntsSet}>\r\n            <button className={`${cssVars.mainColor} waves-effect waves-light btn disabled`} name=\"login\" onClick={postAuthData}>Login</button>\r\n            <button className={`${cssVars.accentColor} waves-effect waves-light btn disabled`} name=\"register\" onClick={postAuthData}>Registration</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n};\r\n\r\nexport default AuthPage;\r\n","import { connect } from 'react-redux';\r\nimport AuthPage from './AuthPage';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    authState: state.authPage,\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch: (action) => {\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nconst AuthPageContainer = connect(mapStateToProps, mapDispatchToProps)(AuthPage);\r\n\r\n\r\nexport default AuthPageContainer;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport cssVars from './../../../vars_css/vars_css';\r\nimport { contactCardActionCreator } from '../../../redux/contactsReducer';\r\n\r\n\r\nfunction Navbar(props) {\r\n\r\n    let dialogsCount = 0;\r\n    for (const dialog in props.navBar.newMessages) {\r\n        if (props.navBar.newMessages[dialog].messages.length > 0) {\r\n            dialogsCount++;\r\n        };\r\n    };\r\n    let isShow = \"noShowItem\";\r\n    if (dialogsCount > 0) isShow = \"showItem\";\r\n\r\n    return (\r\n        <nav className={cssVars.mainColor}>\r\n            <div className=\"nav-wrapper\">\r\n                <ul id=\"nav-mobile\" className={`${classes.body} center`}>\r\n                    <li><NavLink to='/profile'>Profile</NavLink></li>\r\n                    <li><NavLink to='/dialogs'>\r\n                        {`Dialogs`}\r\n                        <span\r\n                            style={{ color: \"#FFD073\", paddingLeft: \"5px\", }}\r\n                            className={`${isShow}`}\r\n                        >\r\n                            {dialogsCount}\r\n                        </span>\r\n                    </NavLink></li>\r\n                    <li><NavLink\r\n                        onClick={() => {\r\n                            let action = contactCardActionCreator(false);\r\n                            props.dispatch(action);\r\n                        }}\r\n                        to='/contacts'\r\n                    >Contacts</NavLink></li>\r\n                </ul>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;","import { connect } from 'react-redux';\r\nimport Navbar from './Navbar';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        navBar: state.navBar,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst NavbarContainer = connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n\r\nexport default NavbarContainer;","import React from 'react';\r\nimport classes from './ProfileCard.module.css';\r\nimport cssVars from '../../../vars_css/vars_css';\r\nimport { changeUserDataActionCreator } from '../../../redux/profileReducer';\r\nimport { logoutActionCreator } from '../../../redux/reduxStore';\r\nimport { contactCardActionCreator } from '../../../redux/contactsReducer';\r\nimport { dialogIdActionCreator } from '../../../redux/dialogBodyReducer';\r\n\r\nfunction ProfileCard(props) {\r\n\r\n    function createBtns(arr) {\r\n        return arr.map(btn => {\r\n            if (btn.btnFunc === 'changeBtn') btn.btnFunc = changeBtn;\r\n            if (btn.btnFunc === 'logoutBtn') btn.btnFunc = logoutBtn;\r\n            if (btn.btnFunc === 'redirectToDialog') btn.btnFunc = redirectToDialog;\r\n            return btn = <button key={Math.random() * Math.random()} className={`${cssVars[btn.btnStyle]} waves-effect waves-light btn`} name=\"change\" onClick={btn.btnFunc} >{btn.btnName}</button>;\r\n        });\r\n    };\r\n\r\n    function changeBtn() {\r\n        let action = changeUserDataActionCreator(true);\r\n        props.dispatch(action);\r\n\r\n    };\r\n    function logoutBtn() {\r\n        let action = logoutActionCreator();\r\n        props.dispatch(action);\r\n\r\n    };\r\n    function redirectToDialog() {\r\n\r\n        let contactAction = contactCardActionCreator(false);\r\n        props.dispatch(contactAction);\r\n        let dialogAction = dialogIdActionCreator(props.profile.dialogId);\r\n        props.dispatch(dialogAction);\r\n    };\r\n\r\n    return (\r\n        <div className={classes.body}>\r\n            <div className={classes.userPhoto} style={{ backgroundImage: `url(${props.profile.userPhoto})` }} />\r\n            <p className={classes.discriptionText}>{props.profile.firstName}</p>\r\n            <p className={classes.discriptionText}>{props.profile.lastName}</p>\r\n            <p className={classes.discriptionText}>{props.profile.email}</p>\r\n            <p className={classes.discriptionText}>{props.profile.userSex}</p>\r\n            <p className={classes.discriptionText}>{props.profile.userBirthday}</p>\r\n            {createBtns(props.btns)}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileCard;","import React from 'react';\r\nimport classes from './ProfileCard.module.css';\r\nimport { Select, TextInput, DatePicker, Button } from 'react-materialize';\r\nimport { socket } from '../WorkPlace';\r\nimport { updateDataActionCreator, reloadActionCreator } from '../../../redux/profileReducer';\r\n\r\nfunction ChangeProfileCard(props) {\r\n\r\n    function changeInputs(e) {\r\n        let action;\r\n        if (e.target.name === 'sex') {\r\n            action = updateDataActionCreator(e.target.name, e.target.selectedOptions[0].value, true);\r\n        } else {\r\n            action = updateDataActionCreator(e.target.name, e.target.value, true);\r\n        };\r\n\r\n        props.dispatch(action);\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={classes.body}>\r\n            {/* <div className={classes.userPhoto} style={{ backgroundImage: `url(${props.profilePage.photo})` }} /> */}\r\n            <TextInput\r\n                id='profileNameInput'\r\n                label='First Name'\r\n                name='firstName'\r\n                value={props.profilePage.firstName}\r\n                onChange={(e) => { changeInputs(e) }}\r\n            />\r\n            <TextInput\r\n                id='profileLastNameInput'\r\n                label='Last Name'\r\n                name='lastName'\r\n                email={true}\r\n                value={props.profilePage.lastName}\r\n                onChange={(e) => { changeInputs(e) }}\r\n            />\r\n            <TextInput\r\n                id='profileEmailInput'\r\n                label='Email'\r\n                name='email'\r\n                value={props.profilePage.email}\r\n                onChange={(e) => { changeInputs(e) }}\r\n            />\r\n            <Select\r\n                id=\"profileSelect\"\r\n                label=\"Sex\"\r\n                name='userSex'\r\n                multiple={false}\r\n                onChange={(e) => { changeInputs(e) }}\r\n                defaultValue={props.profilePage.userSex}\r\n            >\r\n                <option disabled={true} value=\"\">Check your sex</option>\r\n                <option value=\"man\">man</option>\r\n                <option value=\"woman\">woman</option>\r\n            </Select>\r\n            <DatePicker\r\n                id=\"profileDatePicker\"\r\n                value={props.profilePage.userBirthday}\r\n                readOnly={true}\r\n                label='Birthday'\r\n                name='userBirthday'\r\n                onChange={() => {\r\n                    let d = document.querySelector('td.is-selected button');\r\n                    let m = d.dataset.month;\r\n                    m = Number(m) + 1;\r\n                    if (m < 10) m = '0' + m;\r\n                    let day = d.dataset.day;\r\n                    if (day < 10) day = '0' + Number(day);\r\n                    let newDate = `${d.dataset.year}-${m}-${day}`;\r\n                    let e = { target: {} };\r\n                    e.target.name = 'userBirthday';\r\n                    e.target.value = newDate;\r\n                    changeInputs(e);\r\n                }}\r\n                options={{\r\n                    format: 'yyyy-mm-dd',\r\n                    yearRange: 99,\r\n                }}\r\n            />\r\n            <Button\r\n                id='saveBtn'\r\n                className='blue'\r\n                disabled={!props.profilePage.changed}\r\n                onClick={() => {\r\n                    let changedData = {\r\n                        id: props.profilePage.id,\r\n                        firstName: props.profilePage.firstName,\r\n                        lastName: props.profilePage.lastName,\r\n                        email: props.profilePage.email,\r\n                        userBirthday: props.profilePage.userBirthday,\r\n                        userSex: props.profilePage.userSex,\r\n                        changed: true\r\n                    };\r\n                    socket.emit('profileData', changedData);\r\n                    let action = reloadActionCreator(null);\r\n                    props.dispatch(action);\r\n                }}\r\n            >Save</Button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChangeProfileCard;","import React from 'react';\r\nimport classes from './ProfilePage.module.css';\r\nimport { socket } from './../../WorkPlace';\r\nimport { getUserDataActionCreator, changeUserDataActionCreator } from './../../../../redux/profileReducer';\r\nimport { Button, Icon, Preloader } from 'react-materialize';\r\nimport ProfileCard from '../../Units/ProfileCard';\r\nimport ChangeProfileCard from '../../Units/ChangeProfileCard';\r\n\r\nfunction ProfilePage(props) {\r\n\r\n    let userId = JSON.parse(localStorage.getItem('userData')).id;\r\n    let data = { id: userId }\r\n\r\n    socket.on(`${userId}Profile`, async userData => {\r\n\r\n        let action = getUserDataActionCreator(userData);\r\n        props.dispatch(action);\r\n\r\n    });\r\n\r\n    if (props.profilePage.id === null) {\r\n        socket.emit('profileData', data);\r\n        return (\r\n            <div className={classes.body}>\r\n                <Preloader />\r\n\r\n            </div>\r\n        );\r\n    };\r\n    if (props.profilePage.changePage === true) {\r\n\r\n        return (\r\n            <div className={classes.body}>\r\n                <Button\r\n                    className={`${classes.closeBtn} grey`}\r\n                    floating\r\n                    icon={<Icon>close</Icon>}\r\n                    small\r\n                    waves='light'\r\n                    onClick={() => {\r\n                        let action = changeUserDataActionCreator(false);\r\n                        props.dispatch(action);\r\n                    }}\r\n                />\r\n                <ChangeProfileCard profilePage={props.profilePage} dispatch={props.dispatch} />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.body}>\r\n                <ProfileCard\r\n                    btns={[\r\n                        {\r\n                            btnFunc: 'changeBtn',\r\n                            btnStyle: 'mainColor',\r\n                            btnName: 'Change',\r\n\r\n                        },\r\n                        {\r\n                            btnFunc: 'logoutBtn',\r\n                            btnStyle: 'accentColor',\r\n                            btnName: 'Logout',\r\n\r\n                        },\r\n                    ]}\r\n                    profile={props.profilePage}\r\n                    dispatch={props.dispatch}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfilePage;","import { connect } from 'react-redux';\r\nimport ProfilePage from './ProfilePage';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst ProfilePageContainer = connect(mapStateToProps, mapDispatchToProps)(ProfilePage);\r\n\r\nexport default ProfilePageContainer;","import React from 'react';\r\nimport classes from './DialogsItem.module.css';\r\nimport varsCss from '../../../../../vars_css/vars_css';\r\n\r\nfunction DialogsItem(props) {\r\n\r\n  let isShow = \"noShowItem\";\r\n  if (props.data.newMsgs && props.data.newMsgs > 0) isShow = \"showItem\";\r\n\r\n  return (\r\n    <div className={classes.body}>\r\n      <div className={classes.userInfo}>\r\n        <div className={classes.userPhoto} style={{ backgroundImage: `url(${props.data.photo})` }} />\r\n        <div className={`${classes.user_name} ${varsCss.navTextColor}`}>{props.data.name}</div>\r\n        <div className={`${classes.user_name} ${varsCss.navTextColor}`}>{props.data.lastName}</div>\r\n      </div>\r\n      <div className={classes.newMsgsContainer}>\r\n        <div className={`${isShow} ${classes.newMsgs} ${varsCss.accentTextColor}`}>{props.data.newMsgs}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DialogsItem;\r\n","import React from 'react';\r\n\r\nfunction IconAdd(props) {\r\n    return (\r\n        <svg className=\"icon-add\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" id=\"layer_1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 150 150\" enableBackground=\"new 0 0 150 150\" xmlSpace=\"preserve\" width={props.width} fill={props.fill}>\r\n            <path xmlns=\"http://www.w3.org/2000/svg\" d=\"M112.5,72.5h-35v-35c0-1.4-1.1-2.5-2.5-2.5l0,0c-1.4,0-2.5,1.1-2.5,2.5v35h-35c-1.4,0-2.5,1.1-2.5,2.5l0,0  c0,1.4,1.1,2.5,2.5,2.5h35v35c0,1.4,1.1,2.5,2.5,2.5l0,0c1.4,0,2.5-1.1,2.5-2.5v-35h35c1.4,0,2.5-1.1,2.5-2.5l0,0  C115,73.6,113.9,72.5,112.5,72.5z\" />\r\n            <path xmlns=\"http://www.w3.org/2000/svg\" d=\"M75.8,141.8c-37.5,0-68-30.5-68-68s30.5-68,68-68s68,30.5,68,68S113.3,141.8,75.8,141.8z M75.8,10.8c-34.7,0-63,28.3-63,63  s28.3,63,63,63s63-28.3,63-63S110.6,10.8,75.8,10.8z\" />\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport default IconAdd;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { socket } from '../../../WorkPlace';\r\nimport { uploadDialogsActionCreator } from '../../../../../redux/dialogsListReducer';\r\nimport { dialogIdActionCreator } from '../../../../../redux/dialogBodyReducer';\r\nimport DialogsItem from './DialogsItem';\r\nimport classes from './DialogsList.module.css';\r\nimport IconAdd from '../../../../../img/icons/IconAdd';\r\nimport varsCss from '../../../../../vars_css/vars_css';\r\nimport { Preloader } from 'react-materialize';\r\n\r\n\r\nlet createDialogs = (dialogs, dialogId, dispatch) => {\r\n\r\n    if (dialogs !== undefined) {\r\n        if (dialogId !== '') {\r\n\r\n            let lastMsgs = [];\r\n            dialogs.forEach(d => {\r\n                if (d.lastMsg) lastMsgs.push(d.lastMsg);\r\n            });\r\n            lastMsgs.sort((a, b) => a - b);\r\n            lastMsgs.forEach(i => {\r\n                dialogs.find(function (dialog, index, arr) {\r\n                    if (dialog.lastMsg === i) {\r\n                        arr.splice(index, 1);\r\n                        arr.unshift(dialog);\r\n                    };\r\n                    return this;\r\n                });\r\n            });\r\n        };\r\n        let dialogsItems = dialogs.map(dialog => {\r\n            return (\r\n                <NavLink\r\n                    exact to={`/dialogs/dialog/${dialog.dialogId}`}\r\n                    key={dialog.dialogId}\r\n                    onClick={() => {\r\n                        let action = dialogIdActionCreator(dialog.dialogId);\r\n                        dispatch(action);\r\n                    }}>\r\n                    <DialogsItem data={dialog} />\r\n                </NavLink>\r\n            );\r\n        });\r\n        return dialogsItems;\r\n    };\r\n};\r\n\r\n\r\nfunction DialogsList(props) {\r\n\r\n    if (!props.dialogsList.isLoad) {\r\n\r\n        socket.emit('dialogList', JSON.parse(localStorage.getItem('userData')).id);\r\n\r\n        let userId = JSON.parse(localStorage.getItem('userData')).id;\r\n        let dialogs = 0;\r\n        if (props.dialogsList.dialogs !== undefined) {\r\n            dialogs = props.dialogsList.dialogs.length;\r\n        };\r\n        socket.emit('updateDialogsList', userId, dialogs);\r\n        socket.on(`updateDialogsList${userId}`, data => {\r\n            let action = uploadDialogsActionCreator(true, data);\r\n            props.dispatch(action);\r\n        });\r\n\r\n        return (\r\n            <div className={classes.preloaderContainer}>\r\n                <Preloader />\r\n            </div>\r\n        );\r\n    };\r\n    if (props.dialogsList.dialogs.length === 0) {\r\n        return (\r\n            <div className={classes.preloaderContainer}>\r\n                <h5>no dialogs</h5>\r\n                <NavLink exact to={`/dialogs/add_new_user`}><IconAdd width=\"50px\" fill={varsCss.accentColorFill} /></NavLink>\r\n            </div>\r\n        );\r\n    };\r\n    let dialogId = '';\r\n    if (props.dialogsList.upDialog) dialogId = props.dialogsList.upDialog;\r\n    return (\r\n        <div className={classes.body}>\r\n            <div className={classes.content}>\r\n                {/* <Route exact path={`/dialogs`} render={() => createDialogs(props.dialogsList.dialogs, dialogId, props.dispatch)} /> */}\r\n                {createDialogs(props.dialogsList.dialogs, dialogId, props.dispatch)}\r\n            </div>\r\n            <NavLink exact to={`/dialogs/add_new_user`}><IconAdd width=\"50px\" fill={varsCss.accentColorFill} /></NavLink>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default DialogsList;","import { connect } from 'react-redux';\r\nimport DialogsList from './DialogsList';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsList: state.dialogsList,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst DialogsListContainer = connect(mapStateToProps, mapDispatchToProps)(DialogsList);\r\n\r\nexport default DialogsListContainer;","import React from 'react';\r\nimport classes from './SearchNewUser.module.css';\r\nimport varsCss from '../../../../../vars_css/vars_css';\r\nimport { Button, Card, CardTitle, Preloader, TextInput } from 'react-materialize';\r\nimport { getNewUserActionCreator, redirectNewUserActionCreator, updateEmailActionCreator } from '../../../../../redux/searchNewUserReducer';\r\nimport { socket } from '../../../WorkPlace';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { dialogIdActionCreator } from '../../../../../redux/dialogBodyReducer';\r\n\r\nlet changeInputs = function (dispatch, value, changed, isLoad) {\r\n  let action = updateEmailActionCreator(value, changed, isLoad);\r\n  dispatch(action);\r\n};\r\n\r\nclass SearchNewUser extends React.Component {\r\n\r\n  render() {\r\n\r\n    if (this.props.searchNewUser.redirect) {\r\n      let action = dialogIdActionCreator(this.props.searchNewUser.redirect);\r\n      this.props.dispatch(action);\r\n      return <Redirect to={`/dialogs/dialog/${this.props.searchNewUser.redirect}`} />\r\n    };\r\n\r\n    let showItem = (data) => {\r\n      if (data === '') {\r\n        return (\r\n          <div className='noShowItem'>{data}</div>\r\n        );\r\n      } else {\r\n        return (\r\n          <div className='displayBlock'>{data}</div>\r\n        );\r\n      };\r\n    };\r\n\r\n    let buttonFnc = (isContact) => {\r\n      if (isContact) {\r\n        return (\r\n          <Button\r\n            small\r\n            key=\"goToDialog\"\r\n            style={{ marginTop: 0, marginLeft: '30px' }}\r\n            className={varsCss.accentColor}\r\n            onClick={() => {\r\n              let action = redirectNewUserActionCreator(this.props.searchNewUser.newContact.dialogId);\r\n              this.props.dispatch(action);\r\n            }}\r\n          >Go to dialog</Button>\r\n        );\r\n      };\r\n      return (\r\n        <Button\r\n          small\r\n          key=\"save\"\r\n          style={{ marginTop: 0, marginLeft: '30px' }}\r\n          className={varsCss.accentColor}\r\n          onClick={() => {\r\n            socket.emit('addNewContact', {\r\n              userId: JSON.parse(localStorage.getItem('userData')).id,\r\n              newContactId: this.props.searchNewUser.newContact.id\r\n            });\r\n            changeInputs(this.props.dispatch, '', false, 'loading');\r\n          }}\r\n        >Save</Button>\r\n      );\r\n    };\r\n\r\n    let searchResult;\r\n\r\n    let visibleClass = 'noShowItem';\r\n    let disabledInput = false;\r\n    if (this.props.searchNewUser.isLoad === 'loading') {\r\n      visibleClass = 'displayBlock';\r\n      disabledInput = true;\r\n      searchResult = <Preloader />;\r\n    };\r\n    if (this.props.searchNewUser.isLoad === true && this.props.searchNewUser.newContact.email === '') {\r\n      visibleClass = 'displayBlock';\r\n      searchResult = <Card\r\n        actions={[\r\n          <Button\r\n            small\r\n            key=\"close\"\r\n            style={{ marginTop: 0 }}\r\n            className={varsCss.mainColor}\r\n            onClick={() => changeInputs(this.props.dispatch, '', false, false)}>Close</Button>\r\n        ]}\r\n      >\r\n        User is not found\r\n    </Card>;\r\n    };\r\n    if (this.props.searchNewUser.isLoad && this.props.searchNewUser.newContact.email !== '') {\r\n      visibleClass = 'displayBlock';\r\n      searchResult = <Card\r\n        style={{\r\n          maxWidth: '300px',\r\n        }}\r\n        actions={[\r\n          <Button\r\n            small\r\n            key=\"close\"\r\n            style={{ marginTop: 0 }}\r\n            className={varsCss.mainColor}\r\n            onClick={() => changeInputs(this.props.dispatch, '', false, false)}\r\n          >Close</Button>,\r\n          buttonFnc(this.props.searchNewUser.newContact.isContact),\r\n        ]}\r\n        header={<CardTitle style={{ width: '100%' }} image={this.props.searchNewUser.newContact.userPhoto} />}\r\n      >\r\n        {showItem(this.props.searchNewUser.newContact.firstName)}\r\n        {showItem(this.props.searchNewUser.newContact.lastName)}\r\n        {this.props.searchNewUser.newContact.email}\r\n      </Card>;\r\n    };\r\n\r\n    return (\r\n      <div className={classes.body}>\r\n        <div className={classes.container}>\r\n          <h5 className={varsCss.navTextColor} style={{ marginBottom: \"30px\" }}>To search for a user enter his (her) e-mail</h5>\r\n          <TextInput\r\n            id='searchNewUserEmailInput'\r\n            label='Email'\r\n            name='email'\r\n            value={this.props.searchNewUser.newContact.email}\r\n            disabled={disabledInput}\r\n            onChange={(e) => {\r\n              let changed = true;\r\n              if (e.target.value === '') changed = false;\r\n              changeInputs(this.props.dispatch, e.target.value, changed, false);\r\n            }}\r\n          />\r\n          <Button\r\n            id='searchBtn'\r\n            className='blue'\r\n            disabled={!this.props.searchNewUser.changed}\r\n            onClick={() => {\r\n              socket.emit('findUser', { userId: JSON.parse(localStorage.getItem('userData')).id, contactEmail: this.props.searchNewUser.newContact.email });\r\n              changeInputs(this.props.dispatch, '', false);\r\n              let action = getNewUserActionCreator({ email: '' }, false, 'loading');\r\n              this.props.dispatch(action);\r\n            }}\r\n          >Search</Button>\r\n          <div className={`${classes.searchResult} ${visibleClass}`}>\r\n            {searchResult}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    let action = redirectNewUserActionCreator(false);\r\n    this.props.dispatch(action);\r\n  };\r\n};\r\n\r\nexport default SearchNewUser;\r\n","import { connect } from 'react-redux';\r\nimport SearchNewUser from './SearchNewUser';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        searchNewUser: state.searchNewUser,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst SearchNewUserContainer = connect(mapStateToProps, mapDispatchToProps)(SearchNewUser);\r\n\r\nexport default SearchNewUserContainer;","import React from 'react';\r\nimport { getNewUserActionCreator } from '../../../../../redux/searchNewUserReducer';\r\nimport { socket } from '../../../WorkPlace';\r\nimport SearchNewUserContainer from './SearchNewUserContainer';\r\n\r\nfunction ContainerForSearchNewUser(props) {\r\n\r\n  socket.on('newContact', data => {\r\n    let action = getNewUserActionCreator(data, false, true);\r\n    props.dispatch(action);\r\n  });\r\n\r\n  return <SearchNewUserContainer />;\r\n}\r\n\r\nexport default ContainerForSearchNewUser;\r\n","import React from 'react';\r\nimport classes from './MessageItem.module.css';\r\nimport varsCss from '../../../../../vars_css/vars_css';\r\n\r\nfunction MessageItem(props) {\r\n\r\n    let userName;\r\n    if (props.user.firstName !== '') {\r\n        userName = props.user.firstName;\r\n    } else {\r\n        userName = props.user.email;\r\n    };\r\n\r\n    let senderClass;\r\n\r\n    if (props.user.id === JSON.parse(localStorage.getItem('userData')).id) {\r\n        senderClass = classes.fromUser;\r\n        userName = 'You';\r\n    };\r\n    if (props.user.id !== JSON.parse(localStorage.getItem('userData')).id) senderClass = classes.fromInterlocutor;\r\n    if (props.description === 'system_message') senderClass = classes.fromSystem;\r\n\r\n    return (\r\n        <div className={`${classes.body} ${senderClass}`}>\r\n            <div className={`${classes.sender} ${varsCss.navTextColor}`}>{userName}</div>\r\n            <div className={classes.messageBody}>{props.messageBody}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport classes from './DialogBody.module.css';\r\nimport { socket } from '../../../WorkPlace';\r\nimport MessageItem from './MessageItem';\r\nimport { dialogIdActionCreator, dialogs } from '../../../../../redux/dialogBodyReducer';\r\nimport { Preloader } from 'react-materialize';\r\n\r\nfunction createMessageList(data) {\r\n\r\n    if (data.isLoad) {\r\n        let messages = [];\r\n        data.dialog.messages.map(message => {\r\n            if (message.to === data.dialog.user1.id) {\r\n                return messages.push(<MessageItem key={Math.random()} to={message.to} messageBody={message.messageBody} user={data.dialog.user2} creation={message.creation} description={message.description} />);\r\n            };\r\n            return messages.push(<MessageItem key={Math.random()} to={message.to} messageBody={message.messageBody} user={data.dialog.user1} creation={message.creation} description={message.description} />);\r\n        });\r\n        return messages;\r\n    };\r\n};\r\n\r\nclass DialogBody extends React.Component {\r\n\r\n    render() {\r\n\r\n        if (!this.props.dialogPage.isLoad) {\r\n            socket.emit('uploadDialog', { dialogId: this.props.dialogPage.dialogId, getDialog: true });\r\n\r\n            return (\r\n                <div className={classes.preloaderContainer}>\r\n                    <Preloader />\r\n                </div>\r\n            );\r\n        };\r\n\r\n        let userId = JSON.parse(localStorage.getItem('userData')).id;\r\n        let newDeliveredMessagesIdArr = [];\r\n\r\n        if (this.props.dialogPage.dialog.messages.length > 0) {\r\n            this.props.dialogPage.dialog.messages.map(message => {\r\n                if (message.to === userId && !message.delivered) {\r\n                    newDeliveredMessagesIdArr.push(message._id);\r\n                };\r\n                return message;\r\n            });\r\n        };\r\n\r\n        if (newDeliveredMessagesIdArr.length > 0) {\r\n            socket.emit('uploadDialog', {\r\n                dialogId: this.props.dialogPage.dialogId,\r\n                userId: userId,\r\n                newDeliveredMessagesIdArr\r\n            });\r\n        };\r\n\r\n        return (\r\n            <div className={classes.body} id='dialogArea'>\r\n                <div\r\n                    className={classes.content}\r\n                    onScroll={(e) => { console.log(e) }}\r\n                >\r\n                    {createMessageList(this.props.dialogPage)}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    componentDidMount() {\r\n        if (this.props.dialogPage.isLoad && this.props.dialogPage.dialog.messages && this.props.dialogPage.dialog.messages.length > 0) {\r\n            let scrollMessages = document.querySelector('#dialogArea');\r\n            scrollMessages.scrollTop = scrollMessages.scrollHeight;\r\n        };\r\n    };\r\n\r\n    componentDidUpdate() {\r\n        let scrollMessages = document.querySelector('#dialogArea');\r\n        scrollMessages.scrollTop = scrollMessages.scrollHeight;\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        dialogs.currentDialog = null;\r\n        let action = dialogIdActionCreator('');\r\n        this.props.dispatch(action);\r\n    };\r\n};\r\n\r\n\r\nexport default DialogBody;","import { connect } from 'react-redux';\r\nimport DialogBody from './DialogBody';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogPage: state.dialogPage,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst DialogBodyContainer = connect(mapStateToProps, mapDispatchToProps)(DialogBody);\r\n\r\nexport default DialogBodyContainer;","import React from 'react';\r\nimport classes from './TextArea.module.css';\r\nimport { Textarea, Button, Icon } from 'react-materialize';\r\nimport varsCss from '../../../../../vars_css/vars_css';\r\nimport { changeNewMessageActionCreator } from '../../../../../redux/textAreaReducer';\r\nimport { socket } from '../../../WorkPlace';\r\n\r\n\r\nfunction TextArea(props) {\r\n\r\n    let user = JSON.parse(localStorage.getItem('userData')).id;\r\n    let interlocutor;\r\n\r\n    if (props.dialog && props.dialog.user1) {\r\n        if (props.dialog.user1.id !== user) {\r\n            interlocutor = props.dialog.user1.id\r\n        } else {\r\n            interlocutor = props.dialog.user2.id\r\n        };\r\n    };\r\n\r\n    let sendBtn = true;\r\n    if (props.textArea.newMessage !== '') sendBtn = false;\r\n\r\n    return (\r\n        <div className={`${classes.body} ${varsCss.mainColor}`}>\r\n            <Textarea\r\n                className={`white`}\r\n                value={props.textArea.newMessage}\r\n                onChange={(e) => {\r\n                    let action = changeNewMessageActionCreator(e.target.value);\r\n                    props.dispatch(action);\r\n                }}\r\n            />\r\n            <Button\r\n                className={varsCss.accentColor}\r\n                node=\"button\"\r\n                type=\"submit\"\r\n                waves=\"light\"\r\n                disabled={sendBtn}\r\n                onClick={() => {\r\n                    socket.emit('uploadDialog', {\r\n                        dialogId: props.dialog.dialogId,\r\n                        user,\r\n                        interlocutor,\r\n                        messageBody: props.textArea.newMessage,\r\n                        creation: Date.now(),\r\n                    });\r\n                    let action = changeNewMessageActionCreator('');\r\n                    props.dispatch(action);\r\n                }}\r\n            ><Icon>send</Icon>\r\n            </Button>\r\n        </div >\r\n    );\r\n};\r\n\r\nexport default TextArea;","import { connect } from 'react-redux';\r\nimport TextArea from './TextArea';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        textArea: state.textArea,\r\n        dialog: state.dialogPage.dialog\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst TextAreaContainer = connect(mapStateToProps, mapDispatchToProps)(TextArea);\r\n\r\nexport default TextAreaContainer;","import React from 'react';\r\nimport classes from './Dialog.module.css';\r\nimport DialogBodyContainer from './DialogBodyContainer';\r\nimport TextAreaContainer from './TextAreaContainer';\r\n\r\nfunction Dialog() {\r\n    return (\r\n        <div className={classes.body}>\r\n            <TextAreaContainer />\r\n            <DialogBodyContainer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dialog;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport classes from './DialogsPage.module.css';\r\nimport DialogsListContainer from './DialogsList/DialogsListContainer';\r\nimport ContainerForSearchNewUser from './DialogsList/ContainerForSearchNewUser';\r\nimport Dialog from './Dialog/Dialog';\r\n\r\nfunction DialogsPage(props) {\r\n    return (\r\n        <div className={classes.body}>\r\n            <Route exact path='/dialogs' render={() => <DialogsListContainer />} />\r\n            <Route path='/dialogs/dialog' render={() => <Dialog />} />\r\n            <Route path='/dialogs/add_new_user' render={() => <ContainerForSearchNewUser dispatch={props.dispatch} />} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default DialogsPage;","import React from 'react';\r\nimport varsCss from '../../../../vars_css/vars_css';\r\nimport classes from './ContactItem.module.css';\r\n\r\nfunction ContactItem(props) {\r\n\r\n  let isShow = \"noShowItem\";\r\n  let userFirstName;\r\n  let userLastName;\r\n\r\n  if (props.data.firstName === '') {\r\n    userFirstName = props.data.email;\r\n    userLastName = '';\r\n  } else {\r\n    userFirstName = props.data.firstName;\r\n    userLastName = props.data.lastName;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.body}>\r\n      <div className={classes.userInfo}>\r\n        <div className={classes.userPhoto} style={{ backgroundImage: `url(${props.data.userPhoto})` }} />\r\n        <div className={`${classes.user_name} ${varsCss.navTextColor}`}>{userFirstName}</div>\r\n        <div className={`${classes.user_name} ${varsCss.navTextColor}`}>{userLastName}</div>\r\n      </div>\r\n      <div className={classes.newMsgsContainer}>\r\n        <div className={`${isShow} ${classes.newMsgs} ${varsCss.accentTextColor}`}>{props.data.newMsgs}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ContactItem;\r\n","import React from 'react';\r\nimport { Preloader } from 'react-materialize';\r\nimport classes from './ContactsList.module.css';\r\nimport { socket } from '../../WorkPlace';\r\nimport ContactItem from './ContactItem';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { contactCardActionCreator } from '../../../../redux/contactsReducer';\r\nimport ProfileCard from '../../Units/ProfileCard';\r\n\r\n\r\nlet createContacstList = (contactsArr, dispatch) => {\r\n\r\n    // start sort contacts\r\n    let emailsArr = [];\r\n    let namesArr = [];\r\n\r\n    contactsArr.forEach(contact => {\r\n        if (contact.firstName !== '') {\r\n            namesArr.push(contact.firstName);\r\n        } else {\r\n            emailsArr.push(contact.email);\r\n        };\r\n    });\r\n\r\n    emailsArr.sort();\r\n    namesArr.sort();\r\n\r\n    let emailsContactArr = emailsArr.map(contact => {\r\n        contactsArr.forEach(item => {\r\n            if (item.email === contact) contact = item;\r\n        });\r\n        return contact;\r\n    });\r\n    let namesContactArr = namesArr.map(contact => {\r\n        contactsArr.forEach(item => {\r\n            if (item.firstName === contact) contact = item;\r\n        });\r\n        return contact;\r\n    });\r\n\r\n    let sortContactsArr = [].concat(emailsContactArr, namesContactArr);\r\n    // end sort contacts\r\n\r\n    let contacts = sortContactsArr.map(contact => {\r\n        return (\r\n            <NavLink\r\n                exact to={`/contacts/contact/${contact.id}`}\r\n                key={contact.id}\r\n                onClick={() => {\r\n                    let action = contactCardActionCreator(contact);\r\n                    dispatch(action);\r\n                }}>\r\n                <ContactItem data={contact} />\r\n            </NavLink>\r\n        );\r\n    });\r\n    return contacts;\r\n};\r\n\r\nfunction ContactsList(props) {\r\n\r\n    if (!props.contactsPage.isLoad) {\r\n        socket.emit('uploadContacts', { userId: JSON.parse(localStorage.getItem('userData')).id });\r\n        return (\r\n            <div className={classes.preloaderContainer}>\r\n                <Preloader />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (props.contactsPage.contacts.length === 0) {\r\n        return (\r\n            <div className={classes.preloaderContainer}>\r\n                <h5>no contacts</h5>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (props.contactsPage.contactCard) {\r\n        return (\r\n            <div className={classes.preloaderContainer}>\r\n                <ProfileCard\r\n                    btns={[\r\n                        {\r\n                            btnFunc: 'redirectToDialog',\r\n                            btnStyle: 'accentColor',\r\n                            btnName: 'Go to dialog',\r\n\r\n                        },\r\n                    ]}\r\n                    profile={props.contactsPage.contactCard}\r\n                    dispatch={props.dispatch}\r\n                />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className={classes.body}>\r\n            <div className={classes.content}>\r\n                {createContacstList(props.contactsPage.contacts, props.dispatch)}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ContactsList;","import { connect } from 'react-redux';\r\nimport ContactsList from './ContactsList';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        contactsPage: state.contactsPage,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst ContactsListContainer = connect(mapStateToProps, mapDispatchToProps)(ContactsList);\r\n\r\nexport default ContactsListContainer;","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { getContactsActionCreator } from '../../../../redux/contactsReducer';\r\nimport { socket } from '../../WorkPlace';\r\nimport ContactsListContainer from './ContactsListContainer';\r\nimport classes from './ContactsPage.module.css';\r\n\r\nfunction ContactsPage(props) {\r\n\r\n    socket.on('uploadContacts', data => {\r\n        let action = getContactsActionCreator(data.contactsArr);\r\n        props.dispatch(action);\r\n    });\r\n\r\n    return (\r\n        <div className={classes.body}>\r\n            <Route path='/contacts' render={() => <ContactsListContainer />} />\r\n        </div>);\r\n};\r\n\r\nexport default ContactsPage;","import React from 'react';\r\nimport classes from './AppPages.module.css';\r\nimport { Route } from 'react-router-dom';\r\nimport ProfilePageContainer from './ProfilePage/ProfilePageContainer';\r\nimport DialogsPage from './DialogsPage/DialogsPage';\r\nimport ContactsPage from './ContactsPage/ContactsPage';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { socket } from '../WorkPlace';\r\n\r\n\r\nfunction AppPages(props) {\r\n\r\n  const userId = JSON.parse(localStorage.getItem('userData')).id;\r\n  socket.emit('isOnline', { userId: userId, isDialogsLoad: props.isDialogsLoad });\r\n\r\n  let redirectFnc = function (redirect) {\r\n    if (redirect !== '' && redirect !== undefined) {\r\n      return <Redirect to={`/dialogs/dialog/${redirect}`} />;\r\n    };\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className={classes.body}>\r\n      <Route path='/profile' render={() => <ProfilePageContainer />} />\r\n      <Route path='/dialogs' render={() => <DialogsPage dispatch={props.dispatch} />} />\r\n      <Route path='/contacts' render={() => <ContactsPage dispatch={props.dispatch} />} />\r\n      {redirectFnc(props.dialogId)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AppPages;","import { connect } from 'react-redux';\r\nimport AppPages from './AppPages';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogId: state.dialogPage.dialogId,\r\n        isDialogsLoad: state.dialogsList.isLoad,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst AppPagesContainer = connect(mapStateToProps, mapDispatchToProps)(AppPages);\r\n\r\nexport default AppPagesContainer;","import React from 'react';\r\nimport classes from './WorkPlace.module.css';\r\nimport NavbarContainer from './Navbar/NavbarContainer';\r\nimport AppPagesContainer from './AppPages/AppPagesContainer';\r\nimport io from 'socket.io-client';\r\nimport { dialogs, uploadDialogActionCreator } from '../../redux/dialogBodyReducer';\r\nimport { newMessagesActionCreator } from '../../redux/navigationReducer';\r\nimport { checkNewMessagesOnDialogListActionCreator, reloadDialogsActionCreator } from '../../redux/dialogsListReducer';\r\nimport { reloadContactsActionCreator } from '../../redux/contactsReducer';\r\nimport { redirectNewUserActionCreator } from '../../redux/searchNewUserReducer';\r\n\r\nexport let socket = io.connect('https://simple--messenger.herokuapp.com/');\r\n\r\n\r\nfunction WorkPlace(props) {\r\n\r\n  const userId = JSON.parse(localStorage.getItem('userData')).id;\r\n\r\n  socket.on('getDialog', data => {\r\n\r\n    let action = uploadDialogActionCreator(data);\r\n    props.dispatch(action);\r\n  });\r\n\r\n  socket.on(`newMessageTo${userId}`, data => {\r\n\r\n    let action = uploadDialogActionCreator(data);\r\n    props.dispatch(action);\r\n\r\n    let newMsgs = [];\r\n    if (data.dialogId !== dialogs.currentDialog) {\r\n      data.messages.map(m => {\r\n        if (!m.delivered && m.to === userId) {\r\n          newMsgs.push(m);\r\n        };\r\n        return m;\r\n      });\r\n    };\r\n    let newMsgsData = {\r\n      dialogId: data.dialogId,\r\n      messages: newMsgs,\r\n      lastMsg: data.messages[(data.messages.length - 1)].creation,\r\n    };\r\n\r\n    let action1 = newMessagesActionCreator(newMsgsData);\r\n    props.dispatch(action1);\r\n    let action2 = checkNewMessagesOnDialogListActionCreator(newMsgsData.dialogId, newMsgsData.messages, newMsgsData.lastMsg);\r\n    props.dispatch(action2);\r\n  });\r\n\r\n\r\n  socket.on(`addNewContact${userId}`, data => {\r\n\r\n    let actionContacts = reloadContactsActionCreator();\r\n    props.dispatch(actionContacts);\r\n\r\n    socket.emit('updateDialogsList', JSON.parse(localStorage.getItem('userData')).id);\r\n\r\n    if (data.initiator === userId) {\r\n      let actionSearchNewUser = redirectNewUserActionCreator(data.newContact.dialogId);\r\n      props.dispatch(actionSearchNewUser);\r\n    };\r\n\r\n    if (data.initiator !== userId) {\r\n      // socket.emit('uploadDialog', { dialogId: data.newContact.dialogId, contactId: userId });\r\n      let action = reloadDialogsActionCreator('reload');\r\n      props.dispatch(action);\r\n    };\r\n  });\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.body}>\r\n      <NavbarContainer />\r\n      <AppPagesContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkPlace;\r\n","import { connect } from 'react-redux';\r\nimport WorkPlace from './WorkPlace';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        // dialogId: state.dialogPage.dialogId,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        dispatch: (action) => {\r\n            dispatch(action);\r\n        },\r\n    };\r\n};\r\n\r\nconst WorkPlaceContainer = connect(mapStateToProps, mapDispatchToProps)(WorkPlace);\r\n\r\nexport default WorkPlaceContainer;","import React from 'react';\r\nimport './App.css';\r\nimport { useRoutes } from './routes';\r\nimport { loginActionCreator } from './redux/authReducer';\r\n\r\nfunction App(props) {\r\n\r\n  let isAuthenticated = !!props.authState.token;\r\n\r\n  if ((localStorage.userData !== undefined) && (isAuthenticated === false)) {\r\n    let data = JSON.parse(localStorage.userData);\r\n    let action = loginActionCreator(data.token, data.id);\r\n    props.dispatch(action);\r\n  };\r\n\r\n\r\n  const routes = useRoutes(isAuthenticated);\r\n  return (\r\n    <div className=\"App\">\r\n      {routes}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport AuthPageContainer from './ContainerApp/AuthPage/AuthPageContainer';\r\nimport WorkPlaceContainer from './ContainerApp/WorkPlace/WorkPlaceContainer';\r\n\r\n\r\nexport const useRoutes = (isAuthenticated) => {\r\n    if (isAuthenticated) {\r\n        return (\r\n            <Switch>\r\n                <Route path='/profile' render={() => <WorkPlaceContainer />} />\r\n                <Route path='/dialogs' render={() => <WorkPlaceContainer />} />\r\n                <Route path='/contacts' render={() => <WorkPlaceContainer />} />\r\n                <Redirect to='/dialogs' />\r\n            </Switch>\r\n        );\r\n    };\r\n    return (\r\n        <Switch>\r\n            <Route exact path='/' render={() => <AuthPageContainer />} />\r\n            <Redirect to='/' />\r\n        </Switch>\r\n    );\r\n};","import { connect } from 'react-redux';\r\nimport App from './App';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    authState: state.authPage,\r\n  };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch: (action) => {\r\n      dispatch(action);\r\n    },\r\n  };\r\n};\r\n\r\nconst AppContainer = connect(mapStateToProps, mapDispatchToProps)(App);\r\n\r\nexport default AppContainer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport store from './redux/reduxStore.js';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport AppContainer from './AppContainer';\r\n\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n            <AppContainer />\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister(); ","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"AuthPage_body__UKA5d\",\"container\":\"AuthPage_container__1ErkF\",\"bntsSet\":\"AuthPage_bntsSet__2qiu5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"MessageItem_body__2DKle\",\"sender\":\"MessageItem_sender__3lgnW\",\"fromUser\":\"MessageItem_fromUser__3uPRb\",\"fromInterlocutor\":\"MessageItem_fromInterlocutor__1O6cK\",\"messageBody\":\"MessageItem_messageBody__1vPRc\",\"fromSystem\":\"MessageItem_fromSystem__3QYG6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfilePage_container__2YxQl\",\"body\":\"ProfilePage_body__pUQNv\",\"closeBtn\":\"ProfilePage_closeBtn__X-Ux8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"ContactsList_body__ji0bU\",\"content\":\"ContactsList_content__2otnV\",\"preloaderContainer\":\"ContactsList_preloaderContainer__wJLwh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"DialogsList_body__o4bAz\",\"content\":\"DialogsList_content__UFbrw\",\"preloaderContainer\":\"DialogsList_preloaderContainer__1KmdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"SearchNewUser_body__3qZak\",\"container\":\"SearchNewUser_container__3YEpz\",\"searchResult\":\"SearchNewUser_searchResult__2vN1J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"DialogBody_body__1ISCj\",\"content\":\"DialogBody_content__2JXWN\",\"preloaderContainer\":\"DialogBody_preloaderContainer__Qi1LQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"WorkPlace_body__2tSNu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Navbar_body__czvJ0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"AppPages_body__2zqND\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"DialogsPage_body__1Btte\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"Dialog_body__1o6qv\",\"preloaderContainer\":\"Dialog_preloaderContainer__3ej52\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"TextArea_body__Se-37\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"ContactsPage_body__370XY\"};"],"sourceRoot":""}